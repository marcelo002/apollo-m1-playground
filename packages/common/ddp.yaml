# Â© Copyright 2025 Stuart Parmenter
# SPDX-License-Identifier: MIT

external_components:
  - source: github://stuartparmenter/lvgl-ddp-stream@v0.5.0
    components: [ddp_stream, ws_ddp_control]

# DDP Canvas Binding
ddp_stream:
  id: ddp
  port: ${DDP_PORT}

# WebSocket control
ws_ddp_control:
  id: ws_ddp
  ws_host: ${WS_DDP_HOST}
  ws_port: ${WS_DDP_PORT}
  device_id: ${name}
  ddp: ddp

wifi:
  on_connect:
    then:
      - delay: 2s
      - lambda: |-
          id(ws_ddp).connect();
